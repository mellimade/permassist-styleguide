export function waitUntilExistsFrom(fn, maxRetries = 20, timeout = 10) {
    return new Promise(resolve => {
        retry(fn, resolve, maxRetries, timeout);
    });
}
export function getParentsOf($element, selector = '') {
    const $parents = [];
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    for (; $element && $element !== document; $element = $element.parentNode) {
        if (selector) {
            if ($element.matches(selector)) {
                $parents.push($element);
            }
            continue;
        }
        $parents.push($element);
    }
    return $parents;
}
function retry(fn, resolve, maxRetries = 20, timeout = 10, retries = 0) {
    retries++;
    setTimeout(() => {
        const response = fn();
        if ((!response || response === undefined) && retries < maxRetries) {
            retry(fn, resolve, maxRetries, timeout, retries);
        }
        else {
            resolve(response);
        }
    }, timeout);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbGl0aWVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGVybWFzc2lzdC11aS9zcmMvbGliL0BoZWxwZXJzL3V0aWxpdGllcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsbUJBQW1CLENBQUksRUFBVyxFQUFFLFVBQVUsR0FBRyxFQUFFLEVBQUUsT0FBTyxHQUFHLEVBQUU7SUFDL0UsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUMzQixLQUFLLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxRQUFxQixFQUFFLFFBQVEsR0FBRyxFQUFFO0lBQy9ELE1BQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztJQUVwQiw4REFBOEQ7SUFDOUQsT0FBTyxRQUFRLElBQUksUUFBUSxLQUFNLFFBQWdCLEVBQUUsUUFBUSxHQUFHLFFBQVEsQ0FBQyxVQUF5QixFQUFFO1FBQ2hHLElBQUksUUFBUSxFQUFFO1lBQ1osSUFBSSxRQUFRLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUM5QixRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3pCO1lBRUQsU0FBUztTQUNWO1FBRUQsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUN6QjtJQUVELE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUM7QUFFRCxTQUFTLEtBQUssQ0FBSSxFQUFXLEVBQUUsT0FBOEIsRUFBRSxVQUFVLEdBQUcsRUFBRSxFQUFFLE9BQU8sR0FBRyxFQUFFLEVBQUUsT0FBTyxHQUFHLENBQUM7SUFDdkcsT0FBTyxFQUFFLENBQUM7SUFFVixVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsTUFBTSxRQUFRLEdBQUcsRUFBRSxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLENBQUMsUUFBUSxJQUFJLFFBQVEsS0FBSyxTQUFTLENBQUMsSUFBSSxPQUFPLEdBQUcsVUFBVSxFQUFFO1lBQ2pFLEtBQUssQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDbEQ7YUFBTTtZQUNMLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUNuQjtJQUNILENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gd2FpdFVudGlsRXhpc3RzRnJvbTxUPihmbjogKCkgPT4gVCwgbWF4UmV0cmllcyA9IDIwLCB0aW1lb3V0ID0gMTApOiBQcm9taXNlPFQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHJldHJ5KGZuLCByZXNvbHZlLCBtYXhSZXRyaWVzLCB0aW1lb3V0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJlbnRzT2YoJGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBzZWxlY3RvciA9ICcnKTogSFRNTEVsZW1lbnRbXSB7XG4gIGNvbnN0ICRwYXJlbnRzID0gW107XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgZm9yICg7ICRlbGVtZW50ICYmICRlbGVtZW50ICE9PSAoZG9jdW1lbnQgYXMgYW55KTsgJGVsZW1lbnQgPSAkZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoJGVsZW1lbnQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgJHBhcmVudHMucHVzaCgkZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgICRwYXJlbnRzLnB1c2goJGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuICRwYXJlbnRzO1xufVxuXG5mdW5jdGlvbiByZXRyeTxUPihmbjogKCkgPT4gVCwgcmVzb2x2ZTogKHJlc3BvbnNlOiBUKSA9PiB2b2lkLCBtYXhSZXRyaWVzID0gMjAsIHRpbWVvdXQgPSAxMCwgcmV0cmllcyA9IDApOiB2b2lkIHtcbiAgcmV0cmllcysrO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gZm4oKTtcblxuICAgIGlmICgoIXJlc3BvbnNlIHx8IHJlc3BvbnNlID09PSB1bmRlZmluZWQpICYmIHJldHJpZXMgPCBtYXhSZXRyaWVzKSB7XG4gICAgICByZXRyeShmbiwgcmVzb2x2ZSwgbWF4UmV0cmllcywgdGltZW91dCwgcmV0cmllcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgIH1cbiAgfSwgdGltZW91dCk7XG59XG4iXX0=